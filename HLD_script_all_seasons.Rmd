---
title: "Jeopardy Project All Seasons"
author: "Heather Deel"
date: "11/18/2019"
output: word_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Libraries
```{r}
library(readr)
library(dplyr)
library(tidyr)
library(stringr)
library(ggplot2)
```

## Read in the data
```{r}
seasons_all <- read_tsv("master_season1-35.tsv")
```

## Create new dataframe with all seasons
```{r}
seasons_all_cat <- seasons_all %>%
  group_by(category) %>% 
  count() %>% 
  arrange(desc(n))
```

## Clean up seasons data

```{r}
seasons_all_clean <- seasons_all %>% 
  separate(air_date, sep="-", into = c("year", "month", "day")) %>% 
  select(-comments, -notes) %>% 
  mutate(category = str_to_lower(string = category)) %>% 
  filter(year != "2019")
```


Questions to answer:
Question 2: How often does the mythology category appear over each year? Is there a trend in how often it occurs over time?

```{r}
seasons_all_myth <- seasons_all_clean %>% 
  filter(category == "mythology")

seasons_all_myth_year <- seasons_all_myth %>% 
  group_by(year) %>% 
  count()
```

## Plot mythology category by year
```{r}
seasons_all_myth_year %>% 
  ggplot(aes(x = year, y = n)) +
  geom_bar(stat = "identity", fill = "pink") +
  theme_classic() +
  ggtitle("Number of questions asked in the Mythology category by season") +
  theme(axis.text.x = element_text(angle = 45)) +
  labs(x = "Year", y = "Number of questions")
  
```


Question 3: How often does “Athena”, the greek goddess of war, appear over time? Is there a trend?
```{r}

# note that with this code, it includes "Athena" not just in the mythology category - increases occurrences from 21 to 103

seasons_all_athena <- seasons_all_clean %>% 
  filter(str_detect(question, "Athena") | str_detect(answer, "Athena"))
```



# separate year column

df %>%
  separate(date, sep="-", into = c("year", "month", "day"))





